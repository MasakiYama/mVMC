e# include guard
cmake_minimum_required(VERSION 2.8.0 )

if(${CMAKE_PROJECT_NAME} STREQUAL "Project")
  message(FATAL_ERROR "cmake should be executed not for 'src' subdirectory, but for the top directory of HPhi.")
endif(${CMAKE_PROJECT_NAME} STREQUAL "Project")

include_directories(include)
include_directories(sfmt)
link_directories(${CMAKE_CURRENT_SOURCE_DIR}/pfapack)

set(SOURCES_vmcmain
        vmcmain.c   
 )

set(SOURCES_sfmt
        sfmt/SFMT.c   
 )



add_executable(mVMC ${SOURCES_vmcmain} ${SOURCES_sfmt})
#target_link_libraries(mVMC mkl_intel_lp64)
#target_link_libraries(mVMC mkl_intel_thread)
#target_link_libraries(mVMC mkl_core pthread)
#target_link_libraries(mVMC m)
#target_link_libraries(mVMC irc)
target_link_libraries(mVMC ${LAPACK_LIBRARIES})
if(MPI_FOUND)
  target_link_libraries(mVMC ${MPI_C_LIBRARIES})
endif(MPI_FOUND)
target_link_libraries(mVMC pfapack)

